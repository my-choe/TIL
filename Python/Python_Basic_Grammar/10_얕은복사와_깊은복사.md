# ğŸ“ 10_ì–•ì€ ë³µì‚¬(shallow copy)ì™€ ê¹Šì€ ë³µì‚¬(deep copy).md
## 1. mutableê³¼ immutable ê°ì²´
* ê°ì²´ì—ëŠ” mutableê³¼ immutable ê°ì²´ê°€ ìˆìŠµë‹ˆë‹¤.  <br/>
ğŸ“Š ê°ì²´ êµ¬ë¶„ í‘œ

|class|ì„¤ëª…|êµ¬ë¶„|
---- | ---- | ----
|list|mutable í•œ ìˆœì„œê°€ ìˆëŠ” ê°ì²´ ì§‘í•©|mutable|
|set|mutable í•œ ìˆœì„œê°€ ì—†ëŠ” ê³ ìœ í•œ ê°ì²´ ì§‘í•©|mutable|
|dict|keyì™€ valueê°€ ë§µí•‘ëœ ê°ì²´, ìˆœì„œ ì—†ìŒ|mutable|
|bool|ì°¸,ê±°ì§“|immutable|
|int|ì •ìˆ˜|immutable|
|float|ì‹¤ìˆ˜|immutable|
|tuple|immutable í•œ ìˆœì„œê°€ ìˆëŠ” ê°ì²´ ì§‘í•©|immutable|
|str|ë¬¸ìì—´|immutable|
|frozenset|immutableí•œ set|immutable|

ì¼ë°˜ userê°€ ì‘ì„±í•œ classë„ ëŒ€ë¶€ë¶„ mutable í•œ ê°ì²´ ì…ë‹ˆë‹¤.<br/>
immutableí•œ í´ë˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” íŠ¹ë³„í•œ ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.

https://stackoverflow.com/questions/4828080/how-to-make-an-immutable-object-in-python

* REPLì—ì„œ mutableê³¼ immutableì—ì„œ êµ¬ë¶„í•´ë´…ì‹œë‹¤. ëª‡ê°€ì§€ë§Œ í•´ë´…ë‹ˆë‹¤.
* list ëŠ” mutable ì…ë‹ˆë‹¤.
* ë³€ìˆ˜ a ì— `1, 2, 3`ì„ ì›ì†Œë¡œ ê°€ì§€ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ í• ë‹¹í•˜ì˜€ìŠµë‹ˆë‹¤.
* idëŠ” ë³€ìˆ˜ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œê°’ì„ ë¦¬í„´í•´ì¤ë‹ˆë‹¤.
* aì˜ ì²«ë²ˆì§¸ ì›ì†Œë¥¼ ë³€ê²½í•œ í›„ì—ë„ idê°’ì€ ë³€ê²½ì—†ì´ aì˜ ë³€ìˆ˜ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
```python
>>> a = [1, 2, 3]
>>> id(a)
4393788808
>>> a[0] = 5
>>> a
[5, 2, 3]
>>> id(a)
4393788808
```
<br/>

* setë„ mutableì…ë‹ˆë‹¤.
* `|=` setì—ì„œ or ì—°ì‚°ì…ë‹ˆë‹¤. í•©ì§‘í•©ì´ ë©ë‹ˆë‹¤.
* ê°’ì€ ë³€ê²½ë˜ì—ˆìœ¼ë‚˜ idëŠ” ë³€í•¨ì—†ìŠµë‹ˆë‹¤.

```python
>>> x = {1, 2, 3}
>>> x
{1, 2, 3}
>>> id(x)
4396095304
>>> x|={4,5,6}
>>> x
{1, 2, 3, 4, 5, 6}
>>> id(x)
4396095304
```
<br/>

* strì€ immutable ì…ë‹ˆë‹¤.
* s ë³€ìˆ˜ì— ì²«ë²ˆì§¸ ê¸€ìë¥¼ ë³€ê²½ ì‹œë„í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.
* sì— ë‹¤ë¥¸ ê°’ì„ í• ë‹¹í•˜ë©´, idê°€ ë³€ê²½ë©ë‹ˆë‹¤.
* ì¬í• ë‹¹ì€ ì• ì´ˆì— ë³€ìˆ˜ë¥¼ ë‹¤ì‹œí• ë‹¹í•˜ëŠ” ê²ƒì´ë¯€ë¡œ mutableê³¼ immutableê³¼ëŠ” ë‹¤ë¥¸ ë¬¸ì œì…ë‹ˆë‹¤. 
* listë˜í•œ ê°’ì„ ì¬í• ë‹¹í•˜ë©´ idê°€ ë³€ê²½ë©ë‹ˆë‹¤.

```python
>>> s= "abc"
>>> s
'abc'
>>> id(s)
4387454680
>>> s[0]
'a'
>>> s[0] = 's'
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
>>> s = 'def'
>>> s
'def'
>>> id(s)
4388970768
```

<br/><br/><br/>
## 2. ë³€ìˆ˜ ê°„ ëŒ€ì…
### 2-1 mutableí•œ ê°ì²´ì˜ ë³€ìˆ˜ ê°„ ëŒ€ì…
* listì˜ ì–•ì€ ë³µì‚¬ë¥¼ í™•ì¸ í•´ë´…ë‹ˆë‹¤.
* b ì— aë¥¼ í• ë‹¹í•˜ë©´ ê°’ì´ í• ë‹¹ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ë°”ë¼ë´…ë‹ˆë‹¤.
* bë¥¼ ë³€ê²½í•˜ë©´ ê°™ì´ aë„ ë°”ë€ë‹ˆë‹¤.
* mutableí•œ ë‹¤ë¥¸ ê°ì²´ ë˜í•œ ë˜‘ê°™ì€ í˜„ìƒì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
```python
>>> a = [1, 2, 3]
>>> b = a # shallow copy
>>> b[0]= 5
>>> a
[5, 2, 3]
>>> b
[5, 2, 3]
>>> id(a)
4396179528
>>> id(b)
4396179528
```
<br/>

### 2-2 immutableí•œ ê°ì²´ì˜ ë³€ìˆ˜ê°„ ëŒ€ì…
* str ë¬¸ìì—´ì˜ ì–•ì€ ë³µì‚¬ë¥¼ í™•ì¸í•´ë´…ë‹ˆë‹¤.
* listì™€ ë˜‘ê°™ì´ bë¥¼ aì— í• ë‹¹í•˜ë©´ ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ë°”ë¼ë³´ê²Œ ë©ë‹ˆë‹¤.
* í•˜ì§€ë§Œ bì— ë‹¤ë¥¸ ê°’ì„ í• ë‹¹í•˜ë©´ ì¬í• ë‹¹ì´ ì´ë£¨ì–´ì§€ë©° ë©”ëª¨ë¦¬ ì£¼ì†Œê°€ ë³€ê²½ë©ë‹ˆë‹¤.
* ê³ ë¡œ aì™€ bëŠ” ë‹¤ë¥¸ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤.
```python
>>> a = "abc"
>>> b = a
>>> a
'abc'
>>> b
'abc'
>>> id(a)
4387454680
>>> id(b)
4387454680
>>> b = "abcd"
>>> a
'abc'
>>> b
'abcd'
>>> id(a)
4387454680
>>> id(b)
4396456400
```


<br/><br/><br/>
## 3. ì–•ì€ ë³µì‚¬(shallow copy)
* listì˜ ìŠ¬ë¼ì´ì‹±ì„ í†µí•œ ìƒˆë¡œìš´ ê°’ì„ í• ë‹¹í•´ë´…ë‹ˆë‹¤.
* ì•„ë˜ì˜ ê²°ê³¼ì™€ ê°™ì´ ìŠ¬ë¼ì´ì‹±ì„ í†µí•´ì„œ ê°’ì„ í• ë‹¹í•˜ë©´ ìƒˆë¡œìš´ idê°€ ë¶€ì—¬ë˜ë©°, ì„œë¡œ ì˜í–¥ì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.
```python
>>> a = [1,2,3]
>>> b = a[:]
>>> id(a)
4396179528
>>> id(b)
4393788808
>>> a == b
True
>>> a is b
False
>>> b[0] = 5
>>> a
[1, 2, 3]
>>> b
[5, 2, 3]
```
<br/>

* í•˜ì§€ë§Œ, ì´ëŸ¬í•œ ìŠ¬ë¼ì´ì‹± ë˜í•œ ì–•ì€ ë³µì‚¬ì— í•´ë‹¹í•©ë‹ˆë‹¤.
* ë¦¬ìŠ¤íŠ¸ì•ˆì— ë¦¬ìŠ¤íŠ¸ mutableê°ì²´ ì•ˆì— mutableê°ì²´ì¸ ê²½ìš° ë¬¸ì œê°€ ë©ë‹ˆë‹¤.
* `id(a)` ê°’ê³¼ `id(b)` ê°’ì€ ë‹¤ë¥´ê²Œ ë˜ì—ˆì§€ë§Œ, ê·¸ ë‚´ë¶€ì˜ ê°ì²´ `id(a[0])`ê³¼ `id(b[0])`ì€ ê°™ì€ ì£¼ì†Œë¥¼ ë°”ë¼ë³´ê³  ìˆìŠµë‹ˆë‹¤.
```python
>>> a = [[1,2], [3,4]]
>>> b = a[:]
>>> id(a)
4395624328
>>> id(b)
4396179592
>>> id(a[0])
4396116040
>>> id(b[0])
4396116040
```
<br/>

* ì¬í• ë‹¹í•˜ëŠ” ê²½ìš°ëŠ” ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤. ë©”ëª¨ë¦¬ ì£¼ì†Œë„ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
```python
>>> a[0] = [8,9]
>>> a
[[8, 9], [3, 4]]
>>> b
[[1, 2], [3, 4]]
>>> id(a[0])
4393788808
>>> id(b[0])
4396116040
```
<br/>

* í•˜ì§€ë§Œ, `a[1]` ì— ê°’ì„ ë³€ê²½í•˜ë©´ `b[1]`ë„ ë”°ë¼ ë³€ê²½ë©ë‹ˆë‹¤.
```python
>>> a[1].append(5)
>>> a
[[8, 9], [3, 4, 5]]
>>> b
[[1, 2], [3, 4, 5]]
>>> id(a[1])
4396389896
>>> id(b[1])
4396389896
```
<br/>

* copy ëª¨ë“ˆì˜ copy ë©”ì†Œë“œ ë˜í•œ ì–•ì€ ë³µì‚¬ì…ë‹ˆë‹¤.
```python
>>> import copy
>>> a = [[1,2],[3,4]]
>>> b = copy.copy(a)
>>> a[1].append(5)
>>> a
[[1, 2], [3, 4, 5]]
>>> b
[[1, 2], [3, 4, 5]]
```

<br/><br/><br/>
## 4. ê¹Šì€ ë³µì‚¬(deep copy)
* ê¹Šì€ ë³µì‚¬ëŠ” ë‚´ë¶€ì— ê°ì²´ë“¤ê¹Œì§€ ëª¨ë‘ ìƒˆë¡­ê²Œ copy ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
* copy.deepcopyë©”ì†Œë“œê°€ í•´ê²°í•´ì¤ë‹ˆë‹¤.
```python
>>> import copy
>>> a = [[1,2],[3,4]]
>>> b = copy.deepcopy(a)
>>> a[1].append(5)
>>> a
[[1, 2], [3, 4, 5]]
>>> b
[[1, 2], [3, 4]]
```



<br/><br/><br/>
> ì°¸ê³  : [wikidocs(íŒŒì´ì¬ - ê¸°ë³¸ì„ ê°ˆê³  ë‹¦ì!)](https://wikidocs.net/16038)

## Chapter 2. 네트워크 기초 지식
### 12. NAT와 NAPT
* 기업이나 가정의 LAN에서 사용하는 프라이빗 IP주소를 인터넷에서 사용하는 글로벌 IP주소로 변환하는 기술이 `'NAT(Network Address Translation)'와 'NAPT(Network Address Port Translation)'`이다.
* NAT와 NAPT의 처리는 LAN과 인터넷을 연결하는 라우터나 방화벽에서 수행한다.

<br/>

* `NAT는 프라이빗 IP주소와 글로벌 IP주소를 일대일로 연결하여 변환`한다.
  * NAT는 LAN에서 인터넷으로 연결할 때에는 출발지 IP주소를 변환하고, 인터넷에서 LAN으로 연결할 때는 목적지 주소를 변환한다.
* `NAPT는 프라이빗 IP주소와 글로벌 IP주소를 n대1로 연결하여 변환`한다.
  * NAPT는 LAN에서 인터넷에 액세스할 때 출발지 IP주소뿐만 아니라 출발지 포트 번호도 같이 변환함으로써 n대1 변환을 구현하고 있다. 

<br/>

* LAN에 있는 클라이언트가 인터넷에 있는 서버와 통신할 때를 예로 들은 NAPT 처리
	* ① 라우터는 클라이언트로부터 받은 패킷의 출발지 IP주소를 프라이빗 IP주소→글로벌 IP주소로 변환한다. 이때 출발지 포트 번호도 변환하여 그 변환 정보를 기억한 후에 서버에 전송한다.
	* ② 서버는 클라이언트로부터 패킷을 받아 그 처리 결과를 클라이언트에게 되돌려준다.
	* ③ 라우터는 받은 패킷의 목적지 IP주소와 목적지 포트번호를 ①에서 만든 변환정보를 바탕으로 원래대로 되돌리고 클라이언트에게 반환한다.

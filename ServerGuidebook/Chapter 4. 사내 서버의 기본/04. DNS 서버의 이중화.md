## Chapter 4. 사내 서버의 기본
### 04. DNS 서버의 이중화
DNS서버에서 `이름 해결`을 할 수 없으면 목적 웹 서버에 액세스할 수 없다. 따라서 장애 대비를 위해 프라이머리, 세컨더리 DNS 이중 구성으로 구축한다.

* 캐시 서버의 이중화
	* LAN에 배치하는 캐시서버는 클라이언트가 조회한 이름해결정보를 캐시(일시 저장)할 뿐이다.
	* 따라서 프라이머리와 세컨더리 DNS 서버에서 특별한 이중화를 설정할 필요가 없다.
	* 클라이언트 OS의 DNS설정에서 미리 프라이머리, 세컨더리 DNS 서버를 지정해두기만 하면 된다.
	* 프라이머리 DNS서버로부터 응답이 되돌아오지 않으면 세컨더리 DNS 서버에게 다시 조회한다.


* 콘텐츠 서버의 이중화
	* 프라이머리 DNS 서버가 다운돼도 세컨더리 DNS서버가 동일한 정보를 반환할 수 있도록 동일 Zone 파일을 저장해 둘 필요가 있는데 이 기능을 `'zone 전송'`이라고 한다.
	* zone 전송은 프라이머리 DNS서버에서 세컨더리 DNS서버로 zone 파일의 복사본을 전송하는 기능이다.
	* 정기적 또는 임의 타이밍에 zone을 전송하여 파일을 동기화하며 상위 DNS 서버에는 프라이머리, 세컨더리 양쪽 정보를 등록한다.
	* 이로써 둘 중 어느 쪽 DNS 서버에 조회가 들어와도 결과로서 동일 정보가 반환된다.
